---
title: 'ìƒˆ ê²Œì‹œê¸€ì„ ëª…ë ¹ì–´ë¡œ ë¹ ë¥´ê²Œ ìƒì„±í•˜ê¸°'
date: '2025-04-21'
desc: 'MDX í…œí”Œë¦¿ê³¼ í”„ë¡ íŠ¸ë§¤í„°ê°€ ìë™ìœ¼ë¡œ ì‘ì„±ë˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ êµ¬ì„±í•˜ê¸°'
---

## ë¬¸ì œìƒí™©

ì§€ê¸ˆì€ ìƒˆë¡œìš´ ê²Œì‹œê¸€ì„ ì‘ì„±í•˜ë ¤ë©´

1. ê²Œì‹œë¬¼ë“¤ì„ ì €ì¥í•˜ëŠ” posts í´ë” ë‚´ì—ì„œ
2. ì¹´í…Œê³ ë¦¬ë¥¼ ì˜ë¯¸í•˜ëŠ” í´ë”ë¥¼ ë§Œë“¤ê±°ë‚˜, ì´ë¯¸ ì¡´ì¬í•œë‹¤ë©´ í•´ë‹¹ ì¹´í…Œê³ ë¦¬ ë‚´ì—
3. mdxíŒŒì¼ì„ ë§Œë“¤ê³ 
4. ì œëª©, ë‚ ì§œ ë“±ë“±ì„ ì‘ì„±í•˜ê³  ë³¸ë¬¸ ë‚´ìš© ì‘ì„±

ì„ ê±°ì³ì•¼í•œë‹¤. ë§¤ë²ˆ ë°˜ë³µí•´ì•¼ í•˜ëŠ” íŒŒì¼ ìƒì„±ì´ë‚˜ í”„ë¡ íŠ¸ë§¤í„° ì‘ì„±ì„ ìë™í™” í•˜ë©´ ì¢‹ì„ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤.

## í•„ìš” ê¸°ëŠ¥ ì •ì˜

- ì¹´í…Œê³ ë¦¬ì™€ íŒŒì¼ëª… ë°›ì•„ posts/ì¹´í…Œê³ ë¦¬/íŒŒì¼ëª….mdx íŒŒì¼ ìƒì„±
- ì œëª© ë°›ì•„ í”„ë¡ íŠ¸ë§¤í„°ì— ì œëª© ì±„ìš°ê¸°
- ë‚ ì§œ ì±„ìš°ê³ , ì„¤ëª…(desc)ëŠ” ë¹„ì›Œë‘ê¸°(ì§ì ‘ ì‘ì„±)
- íŒŒì¼ ìƒì„±ì´ ì™„ë£Œë˜ë©´ í•´ë‹¹ íŒŒì¼ì„ ì—´ì–´ ë°”ë¡œ ë³¸ë¬¸ ì‘ì„±ì´ ê°€ëŠ¥í•˜ê²Œ í•˜ê¸°

## ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±

1. ì…ë ¥ë°›ê¸°(ì¹´í…Œê³ ë¦¬, íŒŒì¼ëª…, ì œëª©) <br/>
   readline.createInterface()ë¥¼ í†µí•´ CLI ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.
   ask í•¨ìˆ˜ëŠ” ì§ˆë¬¸ í›„ ì‘ë‹µì„ Promise í˜•íƒœë¡œ ë°›ëŠ” í•¨ìˆ˜ì´ë‹¤.

```js
const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout,
});

function ask(question: string): Promise<string> {
  return new Promise((resolve) => {
    rl.question(question, resolve);
  });
}
```

2. ì •ë³´ ì…ë ¥ë°›ê¸° / ìŠ¬ëŸ¬ê·¸ ë° ë‚ ì§œ ìƒì„± <br/>
   í•„ìš”í•œ ì •ë³´ë“¤ì„ ì…ë ¥ë°›ëŠ”ë‹¤.
   íŒŒì¼ëª…ì—ì„œ ê³µë°±ì„ í•˜ì´í”ˆìœ¼ë¡œ ì¹˜í™˜í•´ ì•ˆì „í•œ í˜•íƒœë¡œ ë³€í™˜í•˜ê³ , date ì›í•˜ëŠ” í˜•íƒœ(2024-04-21)ë¡œ ì¶”ì¶œí•œë‹¤.

```js
const category = await ask('ì¹´í…Œê³ ë¦¬ ì…ë ¥ : ');
const fileName = await ask('íŒŒì¼ëª… ì…ë ¥: ');
const title = await ask('ì œëª© ì…ë ¥: ');

const slug = fileName.toLowerCase().replace(/\s+/g, '-');
const date = new Date().toISOString().split('T')[0];
```

3. í”„ë¡ íŠ¸ë§¤í„° êµ¬ì„± <br/>
   mdx íŒŒì¼ ìƒë‹¨ì— ë“¤ì–´ê°€ê²Œ ë  ë‚´ìš©ìœ¼ë¡œ, ì…ë ¥í•œ titleê³¼ ìƒì„±í•œ dateë¥¼ ìë™ìœ¼ë¡œ ì±„ìš´ë‹¤.
   descëŠ” êµ¬ì¡°ë§Œ ë§Œë“¤ì–´ë‘ê³  ì§ì ‘ ì‘ì„±í•  ìˆ˜ ìˆê²Œ í•˜ì˜€ë‹¤.

```js
const frontmatter = `---
title: '${title}'
date: '${date}'
desc: ''
---

ì—¬ê¸°ì— ë³¸ë¬¸ì„ ì‘ì„±í•˜ì„¸ìš”.

`;
```

4. íŒŒì¼ ê²½ë¡œ ìƒì„± ë° ë””ë ‰í† ë¦¬/íŒŒì¼ ìƒì„± <br/>
   src/posts ë‚´ ì¹´í…Œê³ ë¦¬ ê¸°ë°˜ ê²½ë¡œì™€, ê·¸ ë°‘ì— mdx íŒŒì¼ì˜ ì „ì²´ ê²½ë¡œë¥¼ ì •ì˜í•´ì¤€ë‹¤.
   mkdirSyncì˜ recursiveë¥¼ í†µí•´ ìƒìœ„ ë””ë ‰í† ë¦¬ê°€ ì—†ë‹¤ë©´ ìë™ìœ¼ë¡œ ìƒì„±í•˜ê³ ,
   writeFileSyncë¥¼ í†µí•´ ì•ì„œ ì‘ì„±í•œ í”„ë¡ íŠ¸ë§¤í„°ê°€ ë“¤ì–´ê°„ íŒŒì¼ì„ ìƒì„±í•œë‹¤.

```js
const postDir = path.join('src/posts', category);
const filePath = path.join(postDir, `${slug}.mdx`);

fs.mkdirSync(postDir, { recursive: true });
fs.writeFileSync(filePath, frontmatter);
```

5. íŒŒì¼ ìƒì„± í›„ ì—´ê¸° <br/>
   vscode CLI ëª…ë ¹ì–´ì¸ codeë¥¼ ì‚¬ìš©í•˜ì—¬ ë§Œë“¤ì–´ì§„ íŒŒì¼ì„ ë°”ë¡œ ì—´ë„ë¡ í•œë‹¤.

```js
await execa('code', ['--reuse-window', filePath]);
```

### ì „ì²´ì½”ë“œ

```js title="src/newPost.ts"
import { execa } from 'execa';
import fs from 'fs';
import path from 'path';
import readline from 'readline';

const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout,
});

function ask(question: string): Promise<string> {
  return new Promise((resolve) => {
    rl.question(question, resolve);
  });
}

(async () => {
  const category = await ask('ì¹´í…Œê³ ë¦¬ ì…ë ¥ : ');
  const fileName = await ask('íŒŒì¼ëª… ì…ë ¥: ');
  const title = await ask('ì œëª© ì…ë ¥: ');

  const slug = fileName.toLowerCase().replace(/\s+/g, '-');
  const date = new Date().toISOString().split('T')[0];

  const frontmatter = `---
title: '${title}'
date: '${date}'
desc: ''
---

ì—¬ê¸°ì— ë³¸ë¬¸ì„ ì‘ì„±í•˜ì„¸ìš”.

`;

  const postDir = path.join('src/posts', category);
  const filePath = path.join(postDir, `${slug}.mdx`);

  fs.mkdirSync(postDir, { recursive: true });
  fs.writeFileSync(filePath, frontmatter);

  console.log(`ğŸŒŸ í¬ìŠ¤íŠ¸ ìƒì„± ì™„ë£Œ: ${filePath}`);

  await execa('code', ['--reuse-window', filePath]);
  rl.close();
})();
```

---

## ìŠ¤í¬ë¦½íŠ¸ ë“±ë¡í•˜ê¸°

ì´ì œ ë§Œë“  ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì§§ì€ ëª…ë ¹ì–´ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ í•´ë³´ì.

`package.json` íŒŒì¼ì˜ scriptsì— ë‹¤ìŒê³¼ ê°™ì´ ë“±ë¡í•˜ë©´ í„°ë¯¸ë„ì—ì„œ `yarn new-post` ëª…ë ¹ì–´ë¡œ ë°”ë¡œ ê²Œì‹œë¬¼ì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

```js title="package.json"
"scripts": {
  "new-post": "ts-node scripts/newPost.ts"
}
```

### ì—ëŸ¬1

ì´ì œ ì‹¤í–‰í•´ë³´ì. í„°ë¯¸ë„ì— `yarn new-post`ë¥¼ ì‹¤í–‰í–ˆë”ë‹ˆ ì•„ë˜ì™€ ê°™ì€ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆë‹¤.

<Error>
$ ts-node scripts/newPost.ts<br/>
(node:1994) Warning: To load an ES module, set "type": "module" in the package.json or use the .mjs extension.
(Use node --trace-warnings ... to show where the warning was created)<br/>
/Users/~/scripts/newPost.ts:1<br/>
import fs from 'fs';<br/>
^^^^^^

SyntaxError: Cannot use import statement outside a module

</Error>

**ë¬¸ì œ**<br/>
í˜„ì¬ newPost.tsíŒŒì¼ ë‚´ì—ì„œ import êµ¬ë¬¸ë¥¼ ì‚¬ìš©í•˜ê³  ìˆì–´ Node.jsê°€ ì´ íŒŒì¼ì„ **ESM**ìœ¼ë¡œ ì¸ì‹í•œë‹¤. í•˜ì§€ë§Œ package.jsonì— `"type" : "module"`ë¡œ ì§€ì •ë˜ì–´ ìˆë‹¤ê±°ë‚˜ `.mjs`ê°™ì€ í™•ì¥ìë¥¼ ì“°ì§€ ì•Šì•„ **CommonJS**ë¡œ í•´ì„ëœë‹¤.
ê·¸ ê²°ê³¼, import êµ¬ë¬¸ì„ ì§€ì›í•˜ì§€ ì•Šì•„ SyntaxErrorê°€ ë°œìƒí•œ ê²ƒì´ë‹¤.

**í•´ê²°**<br/>
package.jsonì— `"type": "module"`ì„ ì¶”ê°€í•´ ESMì´ë¼ëŠ” ê²ƒì„ ëª…ì‹œí•´ì¤€ë‹¤.

```js title="package.json"
"type": "module",
"scripts": {
"new-post": "ts-node scripts/new-post.ts"
}
```

### ì—ëŸ¬2

ê·¸ë¬ë”ë‹ˆ ë‹¤ìŒê³¼ ê°™ì€ ì˜¤ë¥˜ê°€ ë‹¤ì‹œ ë°œìƒí–ˆë‹¤.

<Error>
  TypeError [ERR_UNKNOWN_FILE_EXTENSION]: Unknown file extension ".ts" for
  /Users/~/scripts/newPost.ts
</Error>

**ë¬¸ì œ**<br/>
Node.jsëŠ” .ts íŒŒì¼ì„ ê¸°ë³¸ì ìœ¼ë¡œ í•´ì„í•  ìˆ˜ ì—†ìœ¼ë©°, ESM í™˜ê²½ì—ì„œëŠ” ts-nodeë¥¼ ì‚¬ìš©í•˜ë”ë¼ë„ .ts í™•ì¥ìë¥¼ ì§ì ‘ ì‹¤í–‰í•˜ë ¤ë©´ **loader**ë¥¼ ëª…ì‹œí•´ì•¼ í•œë‹¤.

**í•´ê²°**<br/>
`--loader ts-node/esm`: TypeScript ESM í™˜ê²½ì—ì„œ ts íŒŒì¼ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ ts-nodeì˜ ë¡œë”ë¥¼ ëª…ì‹œí•´ì£¼ì—ˆë‹¤.

```js
"scripts": {
  "new-post": "node --loader ts-node/esm scripts/newPost.ts"
}
```

### ê²½ê³ 

ì´ì œ ì˜ ì‹¤í–‰ë˜ì§€ë§Œ, ì•„ë˜ì™€ ê°™ì€ ê²½ê³ ë¬¸êµ¬ê°€ ëœ¬ë‹¤.
![new-post-cli](/images/posts/blog/new-post-cli.png)
Node.jsì—ì„œ --loader í”Œë˜ê·¸ê°€ ì‹¤í—˜ì ì¸ ê¸°ëŠ¥ìœ¼ë¡œ ê°„ì£¼ë˜ë©°, í–¥í›„ ì œê±°ë  ìˆ˜ ìˆë‹¤ëŠ” ë‚´ìš©ì´ë‹¤.
ë”°ë¼ì„œ, --loader ëŒ€ì‹  register() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì „í™˜í•˜ëŠ” ê²ƒì´ ê¶Œì¥ëœë‹¤.

```js
"scripts": {
    "new-post": "node --import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("ts-node/esm", pathToFileURL("./"));"
}
```

ê¹”ë”í•œ ì½”ë“œë¥¼ ìœ„í•´ ë³„ë„ íŒŒì¼ë¡œ ë¶„ë¦¬í•´ì£¼ì—ˆë‹¤.

```js title="register.js"
import { register } from 'node:module';
import { pathToFileURL } from 'node:url';

register('ts-node/esm', pathToFileURL('./'));
```

```js title="package.json"
"scripts": {
    "new-post": "node --import ./register.js scripts/newPost.ts"
}
```
